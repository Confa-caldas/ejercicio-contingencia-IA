<div class="d-flex" id="wrapper">
  <!-- Sidebar -->
  <div class="bg-white" id="sidebar-wrapper">
    <div class="sidebar-header">
      <img src="assets/img/logo.png" alt="Logo Confa" class="sidebar-logo">
      <div class="user-info text-wrap">
        <span class="user-name" style="text-wrap: wrap;">{{nombreUsuario}}</span>
      </div>
    </div>

    <!-- Menú -->
    <div class="sidebar-heading">
      <i class="bi bi-grid-3x3-gap-fill me-2"></i>
      Menú
    </div>
    <div class="list-group list-group-flush">
      <a class="list-group-item list-group-item-action" [class.active]="componenteActual === 'hospitalario'"
        (click)="navigateTo('hospitalario')">
        <i class="bi bi-hospital me-2"></i>
        <span>Hospitalario</span>
      </a>
      <a class="list-group-item list-group-item-action" [class.active]="componenteActual === 'ambulatorio'"
        (click)="navigateTo('ambulatorio')">
        <i class="bi bi-heart-pulse me-2"></i>
        <span>Ambulatorio</span>
      </a>
      <a class="list-group-item list-group-item-action logout-item-fixed" (click)="cerrarSesion()">
        <i class="bi bi-box-arrow-right me-2"></i>
        <span>Cerrar Sesión</span>
      </a>
    </div>
  </div>
  <!-- /#sidebar-wrapper -->

  <!-- Page Content -->
  <div id="page-content-wrapper">
    <!-- Botón toggle para móviles -->
    <button class="btn btn-link toggle-btn d-md-none position-fixed" [class.sidebar-visible]="isSidebarVisible"
      [class.sidebar-hidden]="!isSidebarVisible" style="top: 10px; left: 10px; z-index: 1000;" (click)="toggleMenu()">
      <i class="bi bi-list"></i>
    </button>

    <div class="container-fluid">
      @if (componenteActual === 'bienvenida') {
      <div class="welcome-container">
        <h1 class="welcome-title">Bienvenidos a SAS Web Lite</h1>
        <div class="color-bar">
          <img src="assets/img/arquitectura_marca.jpg" alt="Barra de colores" class="img-fluid">
        </div>
        <div class="logo-container">
          <img src="assets/img/logo_reverse.png" alt="Logo Confa" class="logo-img">
        </div>
      </div>
      } @else if (componenteActual === 'hospitalario') {
      <app-hospitalario></app-hospitalario>
      } @else if (componenteActual === 'ambulatorio') {
      <app-ambulatorio></app-ambulatorio>
      }
    </div>
  </div>
  <!-- Botón oculto para el modal -->
  <button type="button" class="btn btn-modal-inactividad d-none" data-bs-toggle="modal"
    data-bs-target="#modalInactividad">
  </button>

  <!-- Modal de inactividad -->
  <div class="modal fade" id="modalInactividad" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false"
    aria-labelledby="modalInactividadLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header" style="background-color: #0277BD;">
          <h5 class="modal-title text-white" id="modalInactividadLabel">
            Sesión expirada
          </h5>
        </div>
        <div class="modal-body text-center">
          <i class="fas fa-exclamation-triangle fa-3x text-warning mb-3"></i>
          <h5>Tiempo de inactividad superado</h5>
          <p>Es necesario iniciar sesión nuevamente</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary w-100" (click)="cerrarModalYRedirigir()">
            Continuar
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<app-modal-messages></app-modal-messages>